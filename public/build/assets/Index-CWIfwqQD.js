import{_ as U}from"./AdminLayout.vue_vue_type_script_setup_true_lang-C1BTPxfs.js";import{A as _}from"./AppDataTable-BL91BZ2l.js";import{s as f}from"./index-3SbK9wqs.js";import{s as w}from"./index-KmUKpKdf.js";import{s as v}from"./index-B8AoBVEU.js";import{C as x,y as S,c as g,a as s,u as a,w as p,e as d,n as $,o as b,g as h,i as n}from"./app-DcRWUGfv.js";import{s as A}from"./index-Dm-ygBE8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Ix8g-tiU.js";import"./index-D72RhQWv.js";import"./index-hiDLDX0D.js";import"./index-DsJYogO0.js";import"./index-Cwu32vYv.js";import"./index-C2XQbPuc.js";import"./index-Bvjtviu3.js";import"./index-CGgtnb4L.js";const D={class:"field mb-4"},E={key:0,class:"p-error"},T={class:"field mb-4"},X=Object.assign({layout:U},{__name:"Index",setup(B){const c=x(),i=n(null),o=n(!1),m=n(!1),u=n(!1),y=[{field:"name",header:"Name",sortable:!0},{field:"image",header:"Image URL",sortable:!1},{field:"created_at",header:"Created At",sortable:!0}],e=S({id:null,name:"",image:""}),C=()=>{e.reset(),m.value=!1,u.value=!1,o.value=!0},k=l=>{e.id=l.id,e.name=l.name,e.image=l.image,m.value=!0,o.value=!0},N=()=>{u.value=!0,e.name&&(m.value?e.put(route("categories.update",e.id),{onSuccess:()=>{o.value=!1,c.add({severity:"success",summary:"Successful",detail:"Category Updated",life:3e3}),i.value?.refresh()}}):e.post(route("categories.store"),{onSuccess:()=>{o.value=!1,c.add({severity:"success",summary:"Successful",detail:"Category Created",life:3e3}),i.value?.refresh()}}))},V=l=>{confirm("Are you sure you want to delete this category?")&&e.delete(route("categories.destroy",l.id),{onSuccess:()=>{c.add({severity:"success",summary:"Successful",detail:"Category Deleted",life:3e3}),i.value?.refresh()}})};return(l,t)=>(b(),g("div",null,[s(a(A)),s(_,{ref_key:"dataTable",ref:i,title:"Manage Categories",apiUrl:l.route("categories.data"),columns:y,onEdit:k,onDelete:V},{"header-actions":p(()=>[s(a(f),{label:"New Category",icon:"pi pi-plus",onClick:C})]),_:1},8,["apiUrl"]),s(a(w),{visible:o.value,"onUpdate:visible":t[3]||(t[3]=r=>o.value=r),header:m.value?"Edit Category":"New Category",modal:!0,class:"p-fluid w-96"},{footer:p(()=>[s(a(f),{label:"Cancel",icon:"pi pi-times",text:"",onClick:t[2]||(t[2]=r=>o.value=!1)}),s(a(f),{label:"Save",icon:"pi pi-check",text:"",onClick:N})]),default:p(()=>[d("div",D,[t[4]||(t[4]=d("label",{for:"name",class:"block text-900 font-medium mb-2"},"Name",-1)),s(a(v),{id:"name",modelValue:a(e).name,"onUpdate:modelValue":t[0]||(t[0]=r=>a(e).name=r),modelModifiers:{trim:!0},required:"",autofocus:"",class:$({"p-invalid":u.value&&!a(e).name})},null,8,["modelValue","class"]),u.value&&!a(e).name?(b(),g("small",E,"Name is required.")):h("",!0)]),d("div",T,[t[5]||(t[5]=d("label",{for:"image",class:"block text-900 font-medium mb-2"},"Image URL (Optional)",-1)),s(a(v),{id:"image",modelValue:a(e).image,"onUpdate:modelValue":t[1]||(t[1]=r=>a(e).image=r),modelModifiers:{trim:!0}},null,8,["modelValue"])])]),_:1},8,["visible","header"])]))}});export{X as default};
