import{_ as N}from"./AdminLayout.vue_vue_type_script_setup_true_lang-C1BTPxfs.js";import{A as P}from"./AppDataTable-BL91BZ2l.js";import{s as _}from"./index-KmUKpKdf.js";import{s as w}from"./index-3SbK9wqs.js";import{o as m,f as $,w as f,e as a,n as C,t as g,c as v,b as A,g as B,p as T,a as i,u as p,H as j,k as S,C as L,i as b,r as U}from"./app-DcRWUGfv.js";import V from"./ProductForm-DJiRoQp6.js";import{s as z}from"./index-Dm-ygBE8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Ix8g-tiU.js";import"./index-D72RhQWv.js";import"./index-hiDLDX0D.js";import"./index-DsJYogO0.js";import"./index-Cwu32vYv.js";import"./index-C2XQbPuc.js";import"./index-B8AoBVEU.js";import"./index-Bvjtviu3.js";import"./index-CGgtnb4L.js";import"./index-BnpaG7ym.js";import"./AppFormDialog.vue_vue_type_script_setup_true_lang-DZitI_Uz.js";const E={class:"p-6 text-center"},I={class:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-2"},H={class:"text-slate-600 dark:text-slate-400 mb-1"},M={key:0,class:"text-slate-500 dark:text-slate-400"},O={class:"font-semibold text-slate-700 dark:text-slate-300"},q={class:"px-6 py-4 bg-slate-50 dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex justify-center gap-3"},F={__name:"AppConfirmDialog",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},itemName:{type:String,default:""},type:{type:String,default:"danger"},confirmLabel:{type:String,default:"Confirm"},cancelLabel:{type:String,default:"Cancel"},loading:{type:Boolean,default:!1},width:{type:String,default:"420px"}},emits:["update:visible","confirm","cancel"],setup(t,{emit:x}){const n=t,l=x,o=S({get:()=>n.visible,set:r=>l("update:visible",r)}),e=S(()=>{const r={danger:{icon:"pi-trash",bgClass:"bg-red-100 dark:bg-red-500/20",iconClass:"text-red-500",buttonClass:"bg-red-500! hover:bg-red-600! border-red-500!"},warning:{icon:"pi-exclamation-triangle",bgClass:"bg-amber-100 dark:bg-amber-500/20",iconClass:"text-amber-500",buttonClass:"bg-amber-500! hover:bg-amber-600! border-amber-500!"},info:{icon:"pi-info-circle",bgClass:"bg-blue-100 dark:bg-blue-500/20",iconClass:"text-blue-500",buttonClass:"bg-blue-500! hover:bg-blue-600! border-blue-500!"}};return r[n.type]||r.danger}),y=()=>{l("update:visible",!1),l("cancel")},h=()=>{l("confirm")};return(r,d)=>(m(),$(p(_),{visible:o.value,"onUpdate:visible":d[0]||(d[0]=k=>o.value=k),style:j({width:t.width}),modal:!0,pt:{root:{class:"rounded-2xl! overflow-hidden border-0! shadow-2xl!"},header:{class:"hidden!"},content:{class:"p-0!"},footer:{class:"p-0!"}}},{default:f(()=>[a("div",E,[a("div",{class:C(["w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",e.value.bgClass])},[a("i",{class:C(["pi",e.value.icon,"text-3xl",e.value.iconClass])},null,2)],2),a("h3",I,g(t.title),1),a("p",H,g(t.message),1),t.itemName?(m(),v("p",M,[a("span",O,'"'+g(t.itemName)+'"',1),d[1]||(d[1]=A(" will be permanently removed. ",-1))])):B("",!0),T(r.$slots,"default")]),a("div",q,[i(p(w),{label:t.cancelLabel,icon:"pi pi-times",onClick:y,text:"",class:"text-slate-600! dark:text-slate-400! hover:bg-slate-100! dark:hover:bg-slate-700! rounded-xl! px-6!"},null,8,["label"]),i(p(w),{label:t.confirmLabel,icon:"pi "+e.value.icon,onClick:h,loading:t.loading,class:C([e.value.buttonClass,"rounded-xl! shadow-lg! px-6!"])},null,8,["label","icon","loading","class"])])]),_:3},8,["visible","style"]))}},G={class:"relative group"},J=["src","alt"],K={key:1,class:"w-14 h-14 bg-linear-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800 rounded-xl flex items-center justify-center shadow-inner"},Q={class:"inline-flex items-center px-3 py-1.5 rounded-lg bg-primary-50 dark:bg-primary-500/10 text-primary-700 dark:text-primary-400 font-semibold text-sm"},be=Object.assign({layout:N},{__name:"Index",props:{categories:{type:Array,default:()=>[]}},setup(t){const x=L(),n=b(null),l=b(!1),o=b(!1),e=b(null),y=[{field:"image",header:"Image",sortable:!1,searchable:!1},{field:"name",header:"Name",sortable:!0,style:"min-width:12rem"},{field:"description",header:"Description",sortable:!0},{field:"price",header:"Price",sortable:!0},{field:"pack",header:"Pack Size",sortable:!0}],h=()=>{e.value=null,l.value=!0},r=c=>{e.value={...c},l.value=!0},d=()=>{n.value?.refresh()},k=c=>{e.value=c,o.value=!0},D=()=>{U.delete(route("products.destroy",e.value.id),{onSuccess:()=>{o.value=!1,x.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),n.value?.refresh()}})};return(c,u)=>(m(),v("div",null,[i(p(z)),i(P,{ref_key:"dataTable",ref:n,title:"Manage Products",apiUrl:c.route("products.data"),columns:y,onEdit:r,onDelete:k},{"header-actions":f(()=>[i(p(w),{label:"New Product",icon:"pi pi-plus",onClick:h,class:"bg-primary-500! hover:bg-primary-600! border-primary-500! rounded-xl! shadow-lg! hover:shadow-xl! transition-all! duration-300!"})]),"cell-image":f(({data:s})=>[a("div",G,[s.image?(m(),v("img",{key:0,src:c.asset(s.image),alt:s.name,class:"w-14 h-14 object-cover rounded-xl shadow-md ring-2 ring-white dark:ring-slate-700 group-hover:scale-105 transition-transform duration-200"},null,8,J)):(m(),v("div",K,[...u[2]||(u[2]=[a("i",{class:"pi pi-image text-xl text-slate-400 dark:text-slate-500"},null,-1)])]))])]),"cell-price":f(({data:s})=>[a("span",Q," â‚¹"+g(s.price),1)]),_:1},8,["apiUrl"]),i(V,{visible:l.value,"onUpdate:visible":u[0]||(u[0]=s=>l.value=s),product:e.value,categories:t.categories,onSaved:d},null,8,["visible","product","categories"]),i(F,{visible:o.value,"onUpdate:visible":u[1]||(u[1]=s=>o.value=s),title:"Delete Product?",message:"This action cannot be undone.",itemName:e.value?.name,type:"danger",confirmLabel:"Delete",onConfirm:D},null,8,["visible","itemName"])]))}});export{be as default};
